$(document).ready(function(){let e=$("#playground");assert(e.length,"Could not find #playground element.");let t=$("#solve-bk");assert(t.length,"Could not find #btn_bk element.");let n=$("#solve-wt");assert(n.length,"Could not find #btn_wt element.");let l=$("#response");function o(e){l.text(e)}assert(l.length,"Could not find #response element.");let r=null;function i(t=!1){if(null===r)return;let n=r;t&&(n=r.slice()).reverse();let l=function t(){let n="",l=getStarsClassMap();for(let r of e.children()){let i=$(r);if(i.hasClass(l.bk))n+="0";else if(i.hasClass(l.wt))n+="1";else throw o("Доска сломалась :("),Error("Unexpected element: "+i)}return parseInt(n,2)}();if(l>n.length){o("Не удалось найти решение :(");return}let i=n[l];if(0===i){o("Уже решено :)");return}let f=[];for(let u of i.toString())f.push(u);o(f.join("-"))}fetch("data.bin").then(e=>{if(!e.ok){o("Не удалось загрузить данные :(");return}e.blob().then(e=>e.arrayBuffer()).then(e=>{assert(512===(r=new Uint32Array(e)).length),o("Решение будет выведено здесь.")})}),t.on("click",()=>i()),n.on("click",()=>i(!0))});